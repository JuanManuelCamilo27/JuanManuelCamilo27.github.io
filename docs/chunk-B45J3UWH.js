import{$ as y,Aa as a,Ba as O,Da as T,Fa as x,Ga as r,Ha as s,Ia as B,Ja as C,La as c,Ma as v,Na as h,O as M,Pa as G,Ta as f,Ua as I,W as d,_ as b,c as m,i as w,mb as E,ob as F,qb as g,sa as p,ta as P,va as k}from"./chunk-D4KGBPOG.js";var A=i=>({active:i}),z=(()=>{let o=class o{constructor(){this.guess=new k,this.active=!1}onClick(){this.guess.emit(this.color)}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=d({type:o,selectors:[["app-button"]],inputs:{color:"color",active:"active"},outputs:{guess:"guess"},standalone:!0,features:[f],decls:1,vars:6,consts:[[1,"color-button",3,"ngClass","click"]],template:function(e,n){e&1&&(r(0,"button",0),c("click",function(){return n.onClick()}),s()),e&2&&(T(n.color),a("ngClass",I(4,A,n.active)))},dependencies:[g,E],styles:[".color-button[_ngcontent-%COMP%]{width:300px;height:300px;border:none;cursor:pointer;transition:box-shadow .3s;margin:.1rem;opacity:.4}.color-button[_ngcontent-%COMP%]:hover{box-shadow:0 10px 20px #000}.color-button.red[_ngcontent-%COMP%]{background-color:#ec2a20;border-bottom-left-radius:100%}.color-button.red[_ngcontent-%COMP%]:active, .color-button.red.active[_ngcontent-%COMP%]{opacity:1}.color-button.green[_ngcontent-%COMP%]{background-color:#1f9b2d;border-bottom-right-radius:100%}.color-button.green[_ngcontent-%COMP%]:active, .color-button.green.active[_ngcontent-%COMP%]{opacity:1}.color-button.blue[_ngcontent-%COMP%]{background-color:#0074d9;border-top-left-radius:100%}.color-button.blue[_ngcontent-%COMP%]:active, .color-button.blue.active[_ngcontent-%COMP%]{opacity:1}.color-button.yellow[_ngcontent-%COMP%]{background-color:#ffdc00;border-top-right-radius:100%}.color-button.yellow[_ngcontent-%COMP%]:active, .color-button.yellow.active[_ngcontent-%COMP%]{opacity:1}"]});let i=o;return i})();var D=(()=>{let o=class o{constructor(){this.simon=[],this.player=[],this.count=2,this.colors=["blue","green","red","yellow"],this.state=new w,this.sleep=t=>m(this,null,function*(){return new Promise(e=>setTimeout(e,t))})}randomColor(){let t=this.colors.length;return this.colors[Math.floor(Math.random()*t)]}generateSimon(){this.count=2,this.simon=[],this.player=[];for(let t=0;t<this.count;t++)this.appendSimon();this.setState()}appendSimon(){this.simon.push(this.randomColor())}restartSimon(){this.generateSimon()}playerGuess(t){return m(this,null,function*(){this.player.push(t),this.compareSimon()||(yield this.sleep(600),this.restartSimon())})}compareSimon(){for(let t=0;t<this.player.length;t++)if(this.player[t]!==this.simon[t])return new Audio("../../../../../docs/assets/simonSound/wrong_sound_effect.mp3").play(),!1;return this.player.length===this.simon.length&&this.updateGame(),!0}updateGame(){this.appendSimon(),this.count++,this.player=[],this.setState()}setState(){this.state.next({player:this.player,simon:this.simon,count:this.count})}};o.\u0275fac=function(e){return new(e||o)},o.\u0275prov=M({token:o,factory:o.\u0275fac,providedIn:"root"});let i=o;return i})();function R(i,o){if(i&1){let _=C();r(0,"button",10),c("click",function(){b(_);let e=v();return y(e.startGame())}),h(1," Start Game "),s()}}function q(i,o){if(i&1){let _=C();r(0,"button",11),c("click",function(){b(_);let e=v();return y(e.restartGame())}),h(1," Restart Game "),s()}}var V=(()=>{let o=class o{constructor(t){this.gameService=t,this.count=0,this.colors={red:!1,yellow:!1,green:!1,blue:!1},this.soundPaths={red:"https://s3.amazonaws.com/freecodecamp/simonSound1.mp3",yellow:"https://s3.amazonaws.com/freecodecamp/simonSound2.mp3",green:"https://s3.amazonaws.com/freecodecamp/simonSound3.mp3",blue:"https://s3.amazonaws.com/freecodecamp/simonSound4.mp3"},this.sleep=e=>m(this,null,function*(){return new Promise(n=>setTimeout(n,e))}),this.gameStarted=!1,this.showingPattern=!1}ngOnInit(){this.gameService.state.subscribe(t=>{this.count=t.count,this.teasePlayer(t.simon)})}startGame(){this.gameService.generateSimon(),this.gameStarted=!0}restartGame(){this.gameService.restartSimon()}playerGuess(t){return m(this,null,function*(){yield this.sleep(600),this.gameService.playerGuess(t)})}teasePlayer(t){return m(this,null,function*(){this.showingPattern=!0;for(let e=0;e<t.length;e++)this.colors[t[e]]=!0,this.playSound(t[e]),yield this.sleep(600),this.colors[t[e]]=!1,yield this.sleep(400);this.showingPattern=!1})}playSound(t){new Audio(this.soundPaths[t]).play()}};o.\u0275fac=function(e){return new(e||o)(P(D))},o.\u0275cmp=d({type:o,selectors:[["app-board"]],standalone:!0,features:[f],decls:14,vars:9,consts:[[1,"game-board"],[1,"top-buttons"],["color","blue",3,"active","click","guess"],["color","yellow",3,"active","click","guess"],[1,"score"],["class","button1",3,"click",4,"ngIf"],["class","button2",3,"click",4,"ngIf"],[1,"bottom-buttons"],["color","red",3,"active","click","guess"],["color","green",3,"active","click","guess"],[1,"button1",3,"click"],[1,"button2",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"app-button",2),c("click",function(){return n.playSound("blue")})("guess",function(u){return n.playerGuess(u)}),s(),r(3,"app-button",3),c("click",function(){return n.playSound("yellow")})("guess",function(u){return n.playerGuess(u)}),s()(),r(4,"div",4)(5,"h1"),h(6,"SIMON"),s(),x(7,R,2,0,"button",5)(8,q,2,0,"button",6),r(9,"p"),h(10),s()(),r(11,"div",7)(12,"app-button",8),c("click",function(){return n.playSound("red")})("guess",function(u){return n.playerGuess(u)}),s(),r(13,"app-button",9),c("click",function(){return n.playSound("green")})("guess",function(u){return n.playerGuess(u)}),s()()()),e&2&&(O("pointer-events",n.showingPattern?"none":"auto"),p(2),a("active",n.colors.blue),p(1),a("active",n.colors.yellow),p(4),a("ngIf",!n.gameStarted),p(1),a("ngIf",n.gameStarted),p(2),G("Level: ",n.count,""),p(2),a("active",n.colors.red),p(1),a("active",n.colors.green))},dependencies:[g,F,z],styles:[".game-board[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:2rem 0}.score[_ngcontent-%COMP%]{position:absolute;z-index:1;border-radius:100%;background-color:#6d6868;top:40%;width:250px;height:250px}.score[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-250%);color:#fff}.score[_ngcontent-%COMP%]   .button1[_ngcontent-%COMP%], .score[_ngcontent-%COMP%]   .button2[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);border:none;border-radius:.5rem;padding:.7rem 1.2rem;cursor:pointer}.score[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,100%);font-size:1.4em;color:#fff}"]});let i=o;return i})();var j=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=d({type:o,selectors:[["app-simon"]],standalone:!0,features:[f],decls:1,vars:0,template:function(e,n){e&1&&B(0,"app-board")},dependencies:[g,V]});let i=o;return i})();var st=[{path:"",component:j}];export{st as routes};
